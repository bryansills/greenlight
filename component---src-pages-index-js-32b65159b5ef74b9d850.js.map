{"version":3,"sources":["webpack:///./src/components/FullScreenMap.js","webpack:///./src/components/HeatMap.js","webpack:///./src/components/Dropdown.js","webpack:///./src/components/ObstructionMap.js","webpack:///./src/pages/index.js"],"names":["FullScreenMap","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","this","concat","state","height","_updateDimensions","window","innerHeight","setState","inheritsLoose_default","_proto","prototype","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","_this$props","props","children","rest","objectWithoutPropertiesLoose_default","react_default","a","createElement","Map","Object","assign","style","React","Component","HeatMap","position","zoom","points","className","mapStyle","map","FullScreenMap_FullScreenMap","center","TileLayer","attribution","url","HeatmapLayer_default","latitudeExtractor","m","longitudeExtractor","intensityExtractor","parseFloat","Dropdown","_onChange","event","onChange","target","value","_renderOptions","options","option","key","spinner","selectedOption","dropdownStyles","spinner_container","defaultProps","ObstructionMap","_onChangeObstruction","_this$state","HeatMap_HeatMap","Dropdown_Dropdown","__webpack_require__","d","__webpack_exports__","query","_ref","data","id","ObstructionMap_ObstructionMap","file","childrenObstructionsJson"],"mappings":"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","file":"component---src-pages-index-js-32b65159b5ef74b9d850.js","sourcesContent":["import React from \"react\"\nimport { Map } from \"react-leaflet\"\n\nexport class FullScreenMap extends React.Component {\n    state = {\n        height: 500\n    }\n\n    componentDidMount() {\n        if (typeof window !== 'undefined') {\n            window.addEventListener(\"resize\", this._updateDimensions)\n            this._updateDimensions()\n        }\n    }\n\n    componentWillUnmount() {\n        if (typeof window !== 'undefined') {\n            window.removeEventListener(\"resize\", this._updateDimensions)\n        }\n    }\n\n    _updateDimensions = () => {\n        const height = window.innerHeight\n        this.setState({ height: height })\n    }\n\n    render() {\n        const { children, ...rest } = this.props\n\n        if (typeof window !== 'undefined') {\n            return (\n                <Map style={{ height: this.state.height }} { ...rest }>\n                    { children }\n                </Map>\n            )\n        } else {\n            return null\n        }\n    }\n}\n","import React from \"react\"\nimport { TileLayer } from \"react-leaflet\"\nimport HeatmapLayer from \"react-leaflet-heatmap-layer\"\nimport { FullScreenMap } from \"./FullScreenMap\"\nimport mapStyle from \"../styles/map.module.css\"\n\nexport class HeatMap extends React.Component {\n    render() {\n        const { position, zoom, points } = this.props\n\n        if (typeof window !== 'undefined') {\n            return (\n                <div className={mapStyle.map}>\n                    <FullScreenMap center={position} zoom={zoom}>\n                        <TileLayer\n                            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                            url='https://{s}.tile.osm.org/{z}/{x}/{y}.png'\n                        />\n                        { points && points.length > 0 && <HeatmapLayer\n                            points={points}\n                            latitudeExtractor={m => m[0]}\n                            longitudeExtractor={m => m[1]}\n                            intensityExtractor={m => parseFloat(m[2])}\n                        /> }\n                    </FullScreenMap>\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n}\n","import React from \"react\"\nimport dropdownStyles from \"../styles/dropdown.module.css\"\n\nexport class Dropdown extends React.Component {\n    static defaultProps = {\n        options: []\n    }\n\n    _onChange = (event) => {\n        this.props.onChange(event.target.value)\n    }\n\n    _renderOptions = () => {\n        const { options } = this.props\n\n        return options.map(option => {\n            return <option key={option.key} value={option.key}>{ option.spinner }</option>\n        })\n    }\n\n    render() {\n        const { selectedOption } = this.props\n\n        return(\n            <div className={dropdownStyles.spinner_container}>\n                <select value={selectedOption} onChange={this._onChange}>\n                    { this._renderOptions() }\n                </select>\n            </div>\n        )\n    }\n}\n","import React from \"react\"\nimport { HeatMap } from \"../components/HeatMap\"\nimport { Dropdown } from \"./Dropdown\"\n\nexport class ObstructionMap extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            points: [],\n            selectedOption: props.options[0].key\n        }\n    }\n\n    _onChangeObstruction = (key) => this.setState({ selectedOption: key })\n\n    render() {\n        const { position, zoom, options } = this.props\n        const { points, selectedOption } = this.state\n\n        return(\n            <div>\n                <HeatMap position={position} zoom={zoom} points={points} />\n                <Dropdown options={options} selectedOption={selectedOption} onChange={this._onChangeObstruction} />\n            </div>\n        )\n    }\n}\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport { ObstructionMap } from \"../components/ObstructionMap\"\n\nexport default ({ data }) => {\n    return (\n        <div id={\"map\"}>\n            <ObstructionMap\n                position={[41.881832, -87.623177]}\n                zoom={11}\n                options={data.file.childrenObstructionsJson} />\n        </div>\n    )\n}\n\nexport const query = graphql`\n    query {\n        file {\n            childrenObstructionsJson {\n                key,\n                spinner,\n                data\n            }\n        }\n    }\n`\n"],"sourceRoot":""}